<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>签到礼包编辑</title>
        <meta name="keywords" content="签到礼包编辑">
        <meta name="description" content="签到礼包编辑">
        <link rel="shortcut icon" href="favicon.ico">
        <link href="__PUBLIC__/css/bootstrap.min.css?v=3.3.5" rel="stylesheet">
        <link href="__PUBLIC__/css/font-awesome.css?v=4.4.0" rel="stylesheet">
        <link href="__PUBLIC__/css/plugins/iCheck/custom.css" rel="stylesheet">
        <link href="__PUBLIC__/css/animate.css" rel="stylesheet">
        <link href="__PUBLIC__/css/style.css?v=4.0.0" rel="stylesheet">

    </head>
    <body class="gray-bg">
        <div class="wrapper wrapper-content animated fadeInRight">


            <div class="row">
                <div class="col-sm-12">
                    <div class="ibox float-e-margins">
                        <div class=""> <a href="{:U('/signed/index')}{$understr}" target="_self" class="btn btn-primary ">返回</a> </div>
                        <div class="ibox-title">
                            <h5><a href="{:U('/signed/index')}{$understr}"> 签到礼包管理</a> > <small>签到礼包编辑</small></h5>
                            <div class="ibox-tools">
                                <a class="collapse-link"> <i class="fa fa-chevron-up"></i> </a>
                            </div>
                        </div>



                        <div class="ibox-content">
                            <form method="post" name="edit" target="_self" action="{:U('/signed/edit')}{$understr}" class="form-horizontal">
                                <input type="hidden" name="id" value="{$singedpack.id}" />
                                <div class="form-group" style="display: none">
                                    <label class="col-sm-2 control-label" ></label>
                                    <div class="col-sm-10">
                                        <input id="hello" class="laydate-icon form-control layer-date">
                                    </div>
                                </div>
                                <!--                                    <div class="form-group">
                                                                        <label class="col-sm-2 control-label">图标触发日期：</label>
                                                                        <div class="col-sm-10">
                                                                            <input readonly class="form-control layer-date" id="hello1">
                                                                            <label class="laydate-icon inline demoicon" onclick="laydate({elem: '#hello1'});"></label>
                                                                        </div>
                                                                    </div>-->
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">时间区间(*不可更改*)：</label>
                                    <div class="col-sm-10">
                                        <input placeholder="开始日期"  <if condition="$singedpack.disabletime eq 1">  disabled="disabled"   </if> name="begintime" value="{$singedpack.begintime}" class="form-control layer-date"  id="start">
                                        <input placeholder="结束日期" <if condition="$singedpack.disabletime eq 1"> disabled="disabled"  </if> name="endtime" value="{$singedpack.endtime}"  class="form-control layer-date" id="end">
                                    </div>
                                </div>
                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">发放规则：
                                        <br/>
                                        <small class="text-navy"></small>
                                    </label>

                                    <div class="col-sm-10">

                                        <div class="radio">
                                            <label>
                                                <input type="radio"
                                                       <if condition="$singedpack.sendtype eq 0"> checked="" 
                                                    <else /> 
                                                </if>
                                                value="0" id="optionsRadios1" name="sendtype">按照概率发放</label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input type="radio"                                                      <if condition="$singedpack.sendtype eq 1"> checked="" 
                                                    <else /> 
                                                </if>value="1" id="optionsRadios2" name="sendtype">按照顺序自动发放</label>
                                        </div>
                                    </div>
                                </div>
                        <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">签到页卡位置（默认为1最前面）：
                                        <br/>
                                        <small class="text-navy"></small>
                                    </label>

                                    <div class="col-sm-5">

                        <input type="number" name="cardidex" value="{$singedpack.cardidex|default=1}" class="form-control">
                                    </div>
                                </div>


                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">线上/线下(不可更改)：
                                        <br/>
                                        <small class="text-navy"></small>
                                    </label>

                                    <div class="col-sm-10">

                                        <div class="radio">
                                            <label>
                                                <input type="radio" disabled="disabled"
                                                       <if condition="$singedpack.under_or_above eq 0"> checked="" 
                                                    <else /> 
                                                </if>
                                                value="0" id="optionsRadios1" name="under_or_above">线上</label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input type="radio"         disabled="disabled"                                              <if condition="$singedpack.under_or_above eq 1"> checked="" 
                                                    <else /> 
                                                </if>value="1" id="optionsRadios2" name="under_or_above">线下</label>
                                        </div>
                                    </div>
                                </div>




                                <div class="hr-line-dashed">签到礼包概率设置</div>


                                <label class="col-sm-2 control-label">签到礼包： <br/>

                                </label>

                                <div class="form-group">            


                                    <div class="col-sm-1">
                                        <a href="javascript:void(0)" class="btn btn-info" onclick="addbred()">大红包</a>
                                    </div>

                                    <div class="col-sm-1">
                                        <a href="javascript:void(0)" class="btn btn-info" onclick="addsred()">小红包</a>
                                    </div>

                                    <div class="col-sm-1">
                                        <a href="javascript:void(0)" class="btn btn-info" onclick="addbm()">大M包</a>
                                    </div>

                                    <div class="col-sm-1">
                                        <a href="javascript:void(0)" class="btn btn-info" onclick="addsm()">小M包</a>
                                    </div>

                                    <div class="col-sm-1">
                                        <a href="javascript:void(0)" class="btn btn-info"  onclick="addsignedthanks()">谢谢参与</a>
                                    </div>
                                </div>

                                <div class="hr-line-dashed" ></div>
                                <div id='setpack' >
                                    <!-- 
    <div class="form-group">
                                   <label class="col-sm-2 control-label">礼包设置： <br/>
                                       <small class="text-navy">大红包</small>
                                   </label>

                                   <div class="col-sm-10">
                                       <div class="row">
                                           <div class="col-md-2">
                                               <input type="text"  name="area[]" value="<php>echo $singedpack["area"][0] </php>"  placeholder="区间设置" class="form-control">
                                           </div>
                                           <div class="col-md-3">
                                               <input type="text" name="percent[]" value="<php>echo $singedpack["percent"][0] </php>" placeholder="概率" class="form-control">
                                           </div>
                                           <div class="col-md-4">
                                               <input type="text" name="number[]" value="<php>echo $singedpack["number"][0] </php>" placeholder="数量" class="form-control">
                                           </div>
                                       </div>
                                   </div>
                               </div>
                               <div class="form-group">
                                   <label class="col-sm-2 control-label">礼包设置： <br/>
                                       <small class="text-navy">小红包</small>
                                   </label>

                                   <div class="col-sm-10">
                                       <div class="row">
                                           <div class="col-md-2">
                                               <input type="text"  name="area[]" value="<php>echo $singedpack["area"][1] </php>" placeholder="区间设置" class="form-control">
                                           </div>
                                           <div class="col-md-3">
                                               <input type="text" name="percent[]" value="<php>echo $singedpack["percent"][1] </php>"   placeholder="概率" class="form-control">
                                           </div>
                                           <div class="col-md-4">
                                               <input type="text" name="number[]" value="<php>echo $singedpack["number"][1] </php>"  placeholder="数量" class="form-control">
                                           </div>
                                       </div>
                                   </div>
                               </div>
                               <div class="form-group">
                                   <label class="col-sm-2 control-label">礼包设置： <br/>
                                       <small class="text-navy">大M包</small>
                                   </label>

                                   <div class="col-sm-10">
                                       <div class="row">
                                           <div class="col-md-2">
                                               <input type="text"  name="area[]" value="<php>echo $singedpack["area"][2] </php>" placeholder="区间设置" class="form-control">
                                           </div>
                                           <div class="col-md-3">
                                               <input type="text" name="percent[]" value="<php>echo $singedpack["percent"][2] </php>"   placeholder="概率" class="form-control">
                                           </div>
                                           <div class="col-md-4">
                                               <input type="text"  name="number[]" value="<php>echo $singedpack["number"][2] </php>"  placeholder="数量" class="form-control">
                                           </div>
                                       </div>
                                   </div>
                               </div>
                               <div class="form-group">
                                   <label class="col-sm-2 control-label">礼包设置： <br/>
                                       <small class="text-navy">小M包</small>
                                   </label>

                                   <div class="col-sm-10">
                                       <div class="row">
                                           <div class="col-md-2">
                                               <input type="text" name="area[]" value="<php>echo $singedpack["area"][3] </php>" placeholder="区间设置" class="form-control">
                                           </div>
                                           <div class="col-md-3">
                                               <input type="text"  name="percent[]" value="<php>echo $singedpack["percent"][3] </php>" placeholder="概率" class="form-control">
                                           </div>
                                           <div class="col-md-4">
                                               <input type="text" name="number[]" value="<php>echo $singedpack["number"][3] </php>" placeholder="数量" class="form-control">
                                           </div>
                                       </div>
                                   </div>
                               </div>
                                    -->

                                    <volist name="setpack" id="vo">

                                        <div class="form-group" id="setpack-{$vo['id']}" >
                                            <label class="col-sm-2 control-label">礼包设置{$vo['uniqid']}： <br/>
                                                <small class="text-navy">{$vo['indextxt']}</small>
                                            </label>

                                            <div class="col-sm-10">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <input type="hidden" name="type[]" value="{$vo['type']}" />
                                                        <input type="hidden" name="uniqid[]" value="{$vo['uniqid']}" />
                                                        <input type="text"  data-type="range" onkeyup="ssssssss(this, 1)" onchange="ssssssss(this, 1)" name="area[]" value="{$vo['area']}"  placeholder="<if condition="$vo.type eq 4"> 无意义 <else />区间设置</if>" class="form-control">
                                                    </div>
                                                    <div class="col-md-2">
                                                        <input type="number" name="percent[]" value="{$vo['percent']}"  placeholder="概率" class="form-control">
                                                    </div>
                                                    <div class="col-md-2">
                                                        <input type="number"  data-type="number" onkeyup="ssssssss(this, 2)"  onchange="ssssssss(this, 2)" name="number[]" value="{$vo['number']}"  placeholder="数量" class="form-control">
                                                    </div>
                                                    <div class="col-md-2">
                                                        <input type="text" data-type="result" readonly="readonly" value=""  onchange="ssssssss(this, 2)" placeholder="<if condition="$vo.type eq 4"> 无意义 <else />奖励区间</if>" class="form-control">
                                                    </div>
                                                    <div class="col-md-1"> <a href="javascript:void(0)" class="btn btn-info" onclick="delpack('setpack-{$vo['id']}')">删除</a></div>
                                                    <div class="col-md-1"> <a href="javascript:void(0)" class="btn btn-info" onclick="packup('setpack-{$vo['id']}')">↑</a> </div>
                                                    <div class="col-md-1"> <a href="javascript:void(0)" class="btn btn-info" onclick="packdown('setpack-{$vo['id']}')">↓</a> </div>
                                                </div>
                                            </div>

                                        </div>

                                    </volist>

                                </div>

                                <div class="hr-line-dashed"></div>
                                <div class="form-group">
                                    <div class="col-sm-4 col-sm-offset-2">
                                        <button class="btn btn-primary" type="submit">保存内容</button>
                                        <!--<button class="btn btn-white" type="submit">取消</button>-->
                                    </div>
                                </div>


                            </form>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- 全局js -->
        <script src="__PUBLIC__/js/jquery.min.js?v=2.1.4"></script>
        <script src="__PUBLIC__/js/bootstrap.min.js?v=3.3.5"></script>
        <!-- 自定义js -->
        <script src="__PUBLIC__/js/content.js?v=1.0.0"></script>
        <!-- iCheck -->
        <script src="__PUBLIC__/js/plugins/iCheck/icheck.min.js"></script>


        <!-- layerDate plugin javascript -->
        <script src="__PUBLIC__/js/plugins/layer/laydate/laydate.js"></script>
        <script>
            function ssssssss(tag, idx){
                 console.log('-------');
                var val, count;
                
                if(idx === 1){
                    val = $(tag).val(),
                    count = $(tag).parent().parent().find("input[data-type=number]").val();
                }else{
                    count = $(tag).val(),
                    val = $(tag).parent().parent().find("input[data-type=range]").val();
                }
                
                var numbers = val.split("-")
                
                if (numbers.length == 2) {
                    var min = numbers[0],
                        max = numbers[1];
                
                        if(min && max && !isNaN(min) && !isNaN(max) && count && !isNaN(count)){
                            $(tag).parent().parent().find("input[data-type=result]").val(min * count + "-" + max * count);
                        }else{
                            
//                            alert("格式输入不正确！")
                        }
}
                    
                
            }
            
            
            
             $(window).ready(function() {
    $("#setpack").find("input[data-type=range]").each(function(){
        ssssssss(this, 1);
    });
  });
            
                                                        //外部js调用
                                                        laydate({
                                                        elem: '#hello', //目标元素。由于laydate.js封装了一个轻量级的选择器引擎，因此elem还允许你传入class、tag但必须按照这种方式 '#id .class'
                                                                event: 'focus' //响应事件。如果没有传入event，则按照默认的click
                                                        });
                                                        //日期范围限制
                                                        var start = {
                                                        elem: '#start',
                                                                format: 'YYYY/MM/DD hh:mm:ss',
                                                                min: laydate.now(), //设定最小日期为当前日期
                                                                max: '2099-06-16 23:59:59', //最大日期
                                                                istime: true,
                                                                istoday: false,
                                                                choose: function (datas) {
                                                                end.min = datas; //开始日选好后，重置结束日的最小日期
                                                                end.start = datas //将结束日的初始值设定为开始日
                                                                }
                                                        };
                                                        var end = {
                                                        elem: '#end',
                                                                format: 'YYYY/MM/DD hh:mm:ss',
                                                                min: laydate.now(),
                                                                max: '2099-06-16 23:59:59',
                                                                istime: true,
                                                                istoday: false,
                                                                choose: function (datas) {
                                                                start.max = datas; //结束日选好后，重置开始日的最大日期
                                                                }
                                                        };
                                                        laydate(start);
                                                        laydate(end);
        </script>
        <script>
            $(document).ready(function () {
            $('form[name="edit"]').submit(function () {

            return true;
            });
            });
            var awards_id = {$setpackcount};
            var remove_awards_id = 0;
            function addsignedthanks() {
            awards_id++;
            var strVar = "";
            strVar += "                                <div class=\"form-group\" id=\"setpack-" + awards_id + "\" >";
            strVar += "                                    <label class=\"col-sm-2 control-label\">礼包设置" + awards_id + "： <br/>";
            strVar += "                                        <small class=\"text-navy\">谢谢参与<\/small>";
            strVar += "                                    <\/label>";
            strVar += "";
            strVar += "                                    <div class=\"col-sm-10\">";
            strVar += "                                        <div class=\"row\">";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "   <input type=\"hidden\" name=\"uniqid[]\" value=\"" + awards_id + "\" />";
            strVar += "   <input type=\"hidden\" name=\"type[]\" value=\"4\" />";
            strVar += "                                                <input type=\"text\" data-type=\"range\" onkeyup=\"ssssssss(this, 1)\" onchange=\"ssssssss(this, 1)\" name=\"area[]\" value=\"\"  placeholder=\"无意义\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\" name=\"percent[]\" value=\"\"  placeholder=\"概率\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\" data-type=\"number\" onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\"  name=\"number[]\" value=\"\"  placeholder=\"数量\" class=\"form-control\">";
            strVar += "                                            <\/div>";
                              strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"text\" data-type=\"result\" readonly=\"readonly\" value=\"\"  onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\" placeholder=\"无意义\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"delpack('setpack-" + awards_id + "')\">删除<\/a>";
            strVar += "                                              <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packup('setpack-" + awards_id + "')\">↑<\/a> <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packdown('setpack-" + awards_id + "')\">↓<\/a> <\/div>";
            strVar += "                                        <\/div>";
            strVar += "                                    <\/div>";
            strVar += "                           ";
            strVar += "                                <\/div>";
            $("#setpack").append(strVar);
            }
            function addbred() {
            awards_id++;
            var strVar = "";
            strVar += "                                <div class=\"form-group\" id=\"setpack-" + awards_id + "\" >";
            strVar += "                                    <label class=\"col-sm-2 control-label\">礼包设置" + awards_id + "： <br/>";
            strVar += "                                        <small class=\"text-navy\">大红包<\/small>";
            strVar += "                                    <\/label>";
            strVar += "";
            strVar += "                                    <div class=\"col-sm-10\">";
            strVar += "                                        <div class=\"row\">";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "   <input type=\"hidden\" name=\"uniqid[]\" value=\"" + awards_id + "\" />";
            strVar += "   <input type=\"hidden\" name=\"type[]\" value=\"0\" />";
            
            strVar += "                                                <input type=\"text\"  data-type=\"range\" onkeyup=\"ssssssss(this, 1)\" onchange=\"ssssssss(this, 1)\" name=\"area[]\" value=\"\"  placeholder=\"区间设置\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\" name=\"percent[]\" value=\"\"  placeholder=\"概率\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\" data-type=\"number\" onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\"  name=\"number[]\" value=\"\"  placeholder=\"数量\" class=\"form-control\">";
            strVar += "                                            <\/div>";
                       strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"text\" data-type=\"result\" readonly=\"readonly\" value=\"\"  onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\" placeholder=\"奖励区间\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"delpack('setpack-" + awards_id + "')\">删除<\/a>";
            strVar += "                                              <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packup('setpack-" + awards_id + "')\">↑<\/a> <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packdown('setpack-" + awards_id + "')\">↓<\/a> <\/div>";
            strVar += "                                        <\/div>";
            strVar += "                                    <\/div>";
            strVar += "                           ";
            strVar += "                                <\/div>";
            $("#setpack").append(strVar);
            }
            function addsred() {
            awards_id++;
            var strVar = "";
            strVar += "                                <div class=\"form-group\" id=\"setpack-" + awards_id + "\" >";
            strVar += "                                    <label class=\"col-sm-2 control-label\">礼包设置" + awards_id + "： <br/>";
            strVar += "                                        <small class=\"text-navy\">小红包<\/small>";
            strVar += "                                    <\/label>";
            strVar += "";
            strVar += "                                    <div class=\"col-sm-10\">";
            strVar += "                                        <div class=\"row\">";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "   <input type=\"hidden\" name=\"uniqid[]\" value=\"" + awards_id + "\" />";
            strVar += "   <input type=\"hidden\" name=\"type[]\" value=\"1\" />";
            strVar += "                                                <input type=\"text\"  data-type=\"range\" onkeyup=\"ssssssss(this, 1)\" onchange=\"ssssssss(this, 1)\" name=\"area[]\" value=\"\"  placeholder=\"区间设置\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\" name=\"percent[]\" value=\"\"  placeholder=\"概率\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\"  data-type=\"number\" onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\" name=\"number[]\" value=\"\"  placeholder=\"数量\" class=\"form-control\">";
            strVar += "                                            <\/div>";
                              strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"text\" data-type=\"result\" readonly=\"readonly\" value=\"\"  onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\" placeholder=\"奖励区间\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"delpack('setpack-" + awards_id + "')\">删除<\/a>";
            strVar += "                                              <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packup('setpack-" + awards_id + "')\">↑<\/a> <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packdown('setpack-" + awards_id + "')\">↓<\/a> <\/div>";
            strVar += "                                        <\/div>";
            strVar += "                                    <\/div>";
            strVar += "                           ";
            strVar += "                                <\/div>";
            $("#setpack").append(strVar);
            }
            function addbm() {
            awards_id++;
            var strVar = "";
            strVar += "                                <div class=\"form-group\" id=\"setpack-" + awards_id + "\" >";
            strVar += "                                    <label class=\"col-sm-2 control-label\">礼包设置" + awards_id + "： <br/>";
            strVar += "                                        <small class=\"text-navy\">大M包<\/small>";
            strVar += "                                    <\/label>";
            strVar += "";
            strVar += "                                    <div class=\"col-sm-10\">";
            strVar += "                                        <div class=\"row\">";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "   <input type=\"hidden\" name=\"uniqid[]\" value=\"" + awards_id + "\" />";
            strVar += "   <input type=\"hidden\" name=\"type[]\" value=\"2\" />";
            strVar += "                                                <input type=\"text\"  data-type=\"range\" onkeyup=\"ssssssss(this, 1)\" onchange=\"ssssssss(this, 1)\" name=\"area[]\" value=\"\"  placeholder=\"区间设置\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\" name=\"percent[]\" value=\"\"  placeholder=\"概率\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\"  data-type=\"number\" onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\" name=\"number[]\" value=\"\"  placeholder=\"数量\" class=\"form-control\">";
            strVar += "                                            <\/div>";
                              strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"text\" data-type=\"result\" readonly=\"readonly\" value=\"\"  onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\" placeholder=\"奖励区间\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"delpack('setpack-" + awards_id + "')\">删除<\/a>";
            strVar += "                                              <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packup('setpack-" + awards_id + "')\">↑<\/a> <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packdown('setpack-" + awards_id + "')\">↓<\/a> <\/div>";
            strVar += "                                        <\/div>";
            strVar += "                                    <\/div>";
            strVar += "                           ";
            strVar += "                                <\/div>";
            $("#setpack").append(strVar);
            }
            function addsm() {
            awards_id++;
            var strVar = "";
            strVar += "                                <div class=\"form-group\" id=\"setpack-" + awards_id + "\" >";
            strVar += "                                    <label class=\"col-sm-2 control-label\">礼包设置" + awards_id + "： <br/>";
            strVar += "                                        <small class=\"text-navy\">小M包<\/small>";
            strVar += "                                    <\/label>";
            strVar += "";
            strVar += "                                    <div class=\"col-sm-10\">";
            strVar += "                                        <div class=\"row\">";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "   <input type=\"hidden\" name=\"uniqid[]\" value=\"" + awards_id + "\" />";
            strVar += "   <input type=\"hidden\" name=\"type[]\" value=\"3\" />";
            strVar += "                                                <input type=\"text\"  data-type=\"range\" onkeyup=\"ssssssss(this, 1)\" onchange=\"ssssssss(this, 1)\" name=\"area[]\" value=\"\"  placeholder=\"区间设置\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\" name=\"percent[]\" value=\"\"  placeholder=\"概率\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"number\"  data-type=\"number\" onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\" name=\"number[]\" value=\"\"  placeholder=\"数量\" class=\"form-control\">";
            strVar += "                                            <\/div>";
                              strVar += "                                            <div class=\"col-md-2\">";
            strVar += "                                                <input type=\"text\" data-type=\"result\" readonly=\"readonly\" value=\"\"  onkeyup=\"ssssssss(this, 2)\" onchange=\"ssssssss(this, 2)\" placeholder=\"奖励区间\" class=\"form-control\">";
            strVar += "                                            <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"delpack('setpack-" + awards_id + "')\">删除<\/a>";
            strVar += "                                              <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packup('setpack-" + awards_id + "')\">↑<\/a> <\/div>";
            strVar += "<div class=\"col-md-1\"> <a href=\"javascript:void(0)\" class=\"btn btn-info\" onclick=\"packdown('setpack-" + awards_id + "')\">↓<\/a> <\/div>";
            strVar += "                                        <\/div>";
            strVar += "                                    <\/div>";
            strVar += "                           ";
            strVar += "                                <\/div>";
            $("#setpack").append(strVar);
            }

            function delpack(id) {
            if (confirm("真的要删除该项吗？")) {
            remove_awards_id++;
            if (remove_awards_id < 9){
            $("#" + id).remove();
            } else{
            alert('你一口气删除了8个，如果你还要删除请保存后再删');
            }
            }
            }

            function packup(id) {
            var $s = $("#" + id);
            var $prev = $s.prev(); //siblings();
            console.log($s);
            console.log($prev);
            $prev.insertAfter($s);
            }
            function packdown(id) {
            var $s = $("#" + id);
            var $next = $s.next(); //siblings();
            console.log('----------down');
            console.log($s);
            console.log($next);
            $s.insertAfter($next);
            }

        </script>

    </body>
</html>
